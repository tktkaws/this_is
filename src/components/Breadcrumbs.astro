---
interface Props {
	currentSlug: string;
	title: string;
}

const { currentSlug, title } = Astro.props;

const parts = currentSlug.split('/').filter(Boolean);
const breadcrumbs = [{ label: 'ホーム', href: '/' }];

if (parts.length > 1) {
	breadcrumbs.push({ label: parts[0], href: `/${parts[0]}/` });
}
---

{currentSlug && (
	<nav class="mb-4 text-sm" aria-label="パンくずリスト">
		<ol class="flex items-center gap-1 text-[var(--color-text-secondary)]">
			{breadcrumbs.map((crumb, i) => (
				<li class="flex items-center gap-1">
					{i > 0 && (
						<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
						</svg>
					)}
					<a href={crumb.href} class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
						{crumb.label}
					</a>
				</li>
			))}
			<li class="flex items-center gap-1">
				<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
				</svg>
				<span class="text-[var(--color-text)]">{title}</span>
			</li>
		</ol>
	</nav>
)}
